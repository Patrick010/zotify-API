{"openapi":"3.1.0","info":{"title":"Zotify API","description":"A RESTful API for Zotify, a Spotify music downloader.","version":"0.1.20"},"paths":{"/api/auth/spotify/callback":{"post":{"tags":["auth"],"summary":"Spotify Callback","description":"Handles the secure callback from the Snitch service after user authentication.","operationId":"spotify_callback_api_auth_spotify_callback_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SpotifyCallbackPayload"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CallbackResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/auth/status":{"get":{"tags":["auth"],"summary":"Get Status","description":"Returns the current authentication status","operationId":"get_status_api_auth_status_get","parameters":[{"name":"X-API-Key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthStatus"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/auth/logout":{"post":{"tags":["auth"],"summary":"Logout","description":"Clears stored Spotify credentials from the database.\n\nThis function deletes the token from local storage, effectively logging the user out\nfrom this application's perspective.","operationId":"logout_api_auth_logout_post","parameters":[{"name":"X-API-Key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/auth/refresh":{"get":{"tags":["auth"],"summary":"Refresh","description":"Refreshes the Spotify access token","operationId":"refresh_api_auth_refresh_get","parameters":[{"name":"X-API-Key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RefreshResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/metadata/{track_id}":{"get":{"summary":"Get extended metadata for a track","description":"Retrieves extended metadata for a specific track.\n\n- **track_id**: The ID of the track to retrieve metadata for.","operationId":"get_metadata_api_metadata__track_id__get","parameters":[{"name":"track_id","in":"path","required":true,"schema":{"type":"string","title":"Track Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MetadataResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"summary":"Update extended metadata for a track","description":"Updates extended metadata for a specific track.\n\n- **track_id**: The ID of the track to update.\n- **meta**: A `MetadataUpdate` object with the fields to update.","operationId":"patch_metadata_api_metadata__track_id__patch","parameters":[{"name":"track_id","in":"path","required":true,"schema":{"type":"string","title":"Track Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MetadataUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MetadataPatchResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/cache":{"get":{"summary":"Get Cache Stats","description":"Returns statistics about the cache.","operationId":"get_cache_api_cache_get","responses":{"200":{"description":"Cache statistics.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StandardResponse_CacheStatusResponse_"}}}}}},"delete":{"summary":"Clear Cache","description":"Clear entire cache or by type.","operationId":"clear_cache_api_cache_delete","parameters":[{"name":"X-API-Key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CacheClearRequest"}}}},"responses":{"200":{"description":"Cache statistics after clearing.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StandardResponse_CacheStatusResponse_"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/system/status":{"get":{"tags":["system"],"summary":"Get System Status","operationId":"get_system_status_api_system_status_get","parameters":[{"name":"X-API-Key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/system/storage":{"get":{"tags":["system"],"summary":"Get System Storage","operationId":"get_system_storage_api_system_storage_get","parameters":[{"name":"X-API-Key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/system/logs":{"get":{"tags":["system"],"summary":"Get System Logs","operationId":"get_system_logs_api_system_logs_get","parameters":[{"name":"X-API-Key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/system/reload":{"post":{"tags":["system"],"summary":"Reload System Config","operationId":"reload_system_config_api_system_reload_post","parameters":[{"name":"X-API-Key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/system/reset":{"post":{"tags":["system"],"summary":"Reset System State","operationId":"reset_system_state_api_system_reset_post","parameters":[{"name":"X-API-Key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/system/uptime":{"get":{"tags":["system"],"summary":"Get Uptime","description":"Returns uptime in seconds and human-readable format.","operationId":"get_uptime_api_system_uptime_get","parameters":[{"name":"X-API-Key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SystemUptime"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/system/env":{"get":{"tags":["system"],"summary":"Get Env","description":"Returns a safe subset of environment info","operationId":"get_env_api_system_env_get","parameters":[{"name":"X-API-Key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SystemEnv"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/user/profile":{"get":{"summary":"Get User Profile","operationId":"get_user_profile_api_user_profile_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserProfileResponse"}}}}}},"patch":{"summary":"Update User Profile","operationId":"update_user_profile_api_user_profile_patch","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserProfileUpdate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserProfileResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/user/preferences":{"get":{"summary":"Get User Preferences","operationId":"get_user_preferences_api_user_preferences_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserPreferences"}}}}}},"patch":{"summary":"Update User Preferences","operationId":"update_user_preferences_api_user_preferences_patch","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserPreferencesUpdate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserPreferences"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/user/liked":{"get":{"summary":"Get User Liked","operationId":"get_user_liked_api_user_liked_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserLikedResponse"}}}}}}},"/api/user/sync_liked":{"post":{"summary":"Sync User Liked","operationId":"sync_user_liked_api_user_sync_liked_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SyncLikedResponse"}}}}}}},"/api/user/history":{"get":{"summary":"Get User History","operationId":"get_user_history_api_user_history_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserHistoryResponse"}}}}}},"delete":{"summary":"Delete User History","operationId":"delete_user_history_api_user_history_delete","responses":{"204":{"description":"Successful Response"}}}},"/api/playlists":{"get":{"tags":["playlists"],"summary":"List Playlists","operationId":"list_playlists_api_playlists_get","parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":25,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}},{"name":"search","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Search"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PlaylistsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["playlists"],"summary":"Create New Playlist","operationId":"create_new_playlist_api_playlists_post","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PlaylistIn"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PlaylistOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/tracks":{"get":{"summary":"List Tracks","operationId":"list_tracks_api_tracks_get","parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":25,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Offset"}},{"name":"q","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Q"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response List Tracks Api Tracks Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"summary":"Create Track","operationId":"create_track_api_tracks_post","parameters":[{"name":"X-API-Key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateTrackModel"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TrackResponseModel"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/tracks/{track_id}":{"get":{"summary":"Get Track","operationId":"get_track_api_tracks__track_id__get","parameters":[{"name":"track_id","in":"path","required":true,"schema":{"type":"string","title":"Track Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TrackResponseModel"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"summary":"Update Track","operationId":"update_track_api_tracks__track_id__patch","parameters":[{"name":"track_id","in":"path","required":true,"schema":{"type":"string","title":"Track Id"}},{"name":"X-API-Key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateTrackModel"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TrackResponseModel"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"summary":"Delete Track","operationId":"delete_track_api_tracks__track_id__delete","parameters":[{"name":"track_id","in":"path","required":true,"schema":{"type":"string","title":"Track Id"}},{"name":"X-API-Key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/tracks/{track_id}/cover":{"post":{"summary":"Upload Track Cover","operationId":"upload_track_cover_api_tracks__track_id__cover_post","parameters":[{"name":"track_id","in":"path","required":true,"schema":{"type":"string","title":"Track Id"}},{"name":"X-API-Key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_upload_track_cover_api_tracks__track_id__cover_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/tracks/metadata":{"post":{"summary":"Get Metadata","description":"Returns metadata for all given tracks in one call.","operationId":"get_metadata_api_tracks_metadata_post","parameters":[{"name":"X-API-Key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TrackMetadataRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TrackMetadataResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/download/":{"post":{"tags":["download"],"summary":"Download","description":"Queue one or more tracks for download.","operationId":"download_api_download__post","parameters":[{"name":"X-API-Key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DownloadRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/DownloadJob"},"title":"Response Download Api Download  Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/download/status":{"get":{"tags":["download"],"summary":"Get Download Queue Status","description":"Get the current status of the download queue.","operationId":"get_download_queue_status_api_download_status_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DownloadQueueStatus"}}}}}}},"/api/download/retry":{"post":{"tags":["download"],"summary":"Retry Failed Downloads","description":"Retry all failed downloads in the queue.","operationId":"retry_failed_downloads_api_download_retry_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DownloadQueueStatus"}}}}}}},"/api/download/process":{"post":{"tags":["download"],"summary":"Process Job","description":"Manually process one job from the download queue.","operationId":"process_job_api_download_process_post","parameters":[{"name":"X-API-Key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"anyOf":[{"$ref":"#/components/schemas/DownloadJob"},{"type":"null"}],"title":"Response Process Job Api Download Process Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/sync/trigger":{"post":{"summary":"Trigger Sync","operationId":"trigger_sync_api_sync_trigger_post","parameters":[{"name":"X-API-Key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/sync/playlist/sync":{"post":{"summary":"Initiate playlist synchronization","operationId":"playlist_sync_api_sync_playlist_sync_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SyncRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/config":{"get":{"summary":"Get Config","operationId":"get_config_api_config_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}},"patch":{"summary":"Update Config","operationId":"update_config_api_config_patch","parameters":[{"name":"X-API-Key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConfigUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/config/reset":{"post":{"summary":"Reset Config","operationId":"reset_config_api_config_reset_post","parameters":[{"name":"X-API-Key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/network":{"get":{"summary":"Get Network","operationId":"get_network_api_network_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NetworkConfigResponse"}}}}}},"patch":{"summary":"Update Network","operationId":"update_network_api_network_patch","parameters":[{"name":"X-API-Key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProxyConfig"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NetworkConfigResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/search":{"get":{"summary":"Search","operationId":"search_api_search_get","parameters":[{"name":"q","in":"query","required":true,"schema":{"type":"string","title":"Q"}},{"name":"type","in":"query","required":false,"schema":{"enum":["track","album","artist","playlist","all"],"type":"string","default":"all","title":"Type"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":20,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Offset"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/webhooks/register":{"post":{"summary":"Register Webhook","operationId":"register_webhook_api_webhooks_register_post","parameters":[{"name":"X-API-Key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WebhookPayload"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/webhooks":{"get":{"summary":"List Webhooks","operationId":"list_webhooks_api_webhooks_get","parameters":[{"name":"X-API-Key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/webhooks/{hook_id}":{"delete":{"summary":"Unregister Webhook","operationId":"unregister_webhook_api_webhooks__hook_id__delete","parameters":[{"name":"hook_id","in":"path","required":true,"schema":{"type":"string","title":"Hook Id"}},{"name":"X-API-Key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/webhooks/fire":{"post":{"summary":"Fire Webhook","operationId":"fire_webhook_api_webhooks_fire_post","parameters":[{"name":"X-API-Key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FirePayload"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/spotify/login":{"get":{"tags":["spotify"],"summary":"Spotify Login","operationId":"spotify_login_api_spotify_login_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OAuthLoginResponse"}}}}}}},"/api/spotify/callback":{"get":{"tags":["spotify"],"summary":"Spotify Callback","operationId":"spotify_callback_api_spotify_callback_get","parameters":[{"name":"code","in":"query","required":true,"schema":{"type":"string","title":"Code"}},{"name":"state","in":"query","required":true,"schema":{"type":"string","title":"State"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/spotify/token_status":{"get":{"tags":["spotify"],"summary":"Token Status","operationId":"token_status_api_spotify_token_status_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenStatus"}}}}}}},"/api/spotify/sync_playlists":{"post":{"tags":["spotify"],"summary":"Sync Playlists Route","operationId":"sync_playlists_route_api_spotify_sync_playlists_post","parameters":[{"name":"X-API-Key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/spotify/playlists":{"get":{"tags":["spotify"],"summary":"Get Spotify Playlists","operationId":"get_spotify_playlists_api_spotify_playlists_get","parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":50,"minimum":1,"default":20,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}},{"name":"X-API-Key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Spotify Playlists Api Spotify Playlists Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/notifications":{"post":{"summary":"Create Notification","operationId":"create_notification_api_notifications_post","parameters":[{"name":"X-API-Key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotificationCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Notification"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/notifications/{user_id}":{"get":{"summary":"Get Notifications","operationId":"get_notifications_api_notifications__user_id__get","parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Notification"},"title":"Response Get Notifications Api Notifications  User Id  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/notifications/{notification_id}":{"patch":{"summary":"Mark Notification As Read","operationId":"mark_notification_as_read_api_notifications__notification_id__patch","parameters":[{"name":"notification_id","in":"path","required":true,"schema":{"type":"string","title":"Notification Id"}},{"name":"X-API-Key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotificationUpdate"}}}},"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/ping":{"get":{"summary":"Ping","operationId":"ping_ping_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/health":{"get":{"tags":["health"],"summary":"Health Check","operationId":"health_check_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/version":{"get":{"summary":"Version","operationId":"version_version_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/schema":{"get":{"tags":["system"],"summary":"Get Schema","description":"Returns either full OpenAPI spec or schema fragment for requested object type (via query param).","operationId":"get_schema_api_schema_get","parameters":[{"name":"q","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Q"}},{"name":"X-API-Key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"AuthStatus":{"properties":{"authenticated":{"type":"boolean","title":"Authenticated"},"user_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Id"},"token_valid":{"type":"boolean","title":"Token Valid"},"expires_in":{"type":"integer","title":"Expires In"}},"type":"object","required":["authenticated","token_valid","expires_in"],"title":"AuthStatus"},"Body_upload_track_cover_api_tracks__track_id__cover_post":{"properties":{"cover_image":{"type":"string","format":"binary","title":"Cover Image"}},"type":"object","required":["cover_image"],"title":"Body_upload_track_cover_api_tracks__track_id__cover_post"},"CacheClearRequest":{"properties":{"type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Type","description":"The type of cache to clear (e.g., 'search', 'metadata'). If omitted, the entire cache is cleared."}},"type":"object","title":"CacheClearRequest"},"CacheStatusResponse":{"properties":{"total_items":{"type":"integer","title":"Total Items","description":"The total number of items in the cache."},"by_type":{"additionalProperties":{"type":"integer"},"type":"object","title":"By Type","description":"A dictionary with the number of items for each cache type."}},"type":"object","required":["total_items","by_type"],"title":"CacheStatusResponse"},"CallbackResponse":{"properties":{"status":{"type":"string","title":"Status"}},"type":"object","required":["status"],"title":"CallbackResponse"},"ConfigUpdate":{"properties":{"library_path":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Library Path"},"scan_on_startup":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Scan On Startup"},"cover_art_embed_enabled":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Cover Art Embed Enabled"}},"additionalProperties":false,"type":"object","title":"ConfigUpdate"},"CreateTrackModel":{"properties":{"name":{"type":"string","maxLength":200,"minLength":1,"title":"Name"},"artist":{"anyOf":[{"type":"string","maxLength":200},{"type":"null"}],"title":"Artist"},"album":{"anyOf":[{"type":"string","maxLength":200},{"type":"null"}],"title":"Album"},"duration_seconds":{"anyOf":[{"type":"integer","exclusiveMinimum":0.0},{"type":"null"}],"title":"Duration Seconds"},"path":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Path"}},"type":"object","required":["name"],"title":"CreateTrackModel"},"DownloadJob":{"properties":{"track_id":{"type":"string","title":"Track Id"},"job_id":{"type":"string","title":"Job Id"},"status":{"$ref":"#/components/schemas/DownloadJobStatus"},"progress":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Progress"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"error_message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error Message"}},"type":"object","required":["track_id","job_id","status","progress","created_at","error_message"],"title":"DownloadJob"},"DownloadJobStatus":{"type":"string","enum":["pending","in_progress","completed","failed"],"title":"DownloadJobStatus"},"DownloadQueueStatus":{"properties":{"total_jobs":{"type":"integer","title":"Total Jobs"},"pending":{"type":"integer","title":"Pending"},"completed":{"type":"integer","title":"Completed"},"failed":{"type":"integer","title":"Failed"},"jobs":{"items":{"$ref":"#/components/schemas/DownloadJob"},"type":"array","title":"Jobs"}},"type":"object","required":["total_jobs","pending","completed","failed","jobs"],"title":"DownloadQueueStatus"},"DownloadRequest":{"properties":{"track_ids":{"items":{"type":"string"},"type":"array","title":"Track Ids"}},"type":"object","required":["track_ids"],"title":"DownloadRequest"},"FirePayload":{"properties":{"event":{"type":"string","title":"Event"},"data":{"additionalProperties":true,"type":"object","title":"Data"}},"type":"object","required":["event","data"],"title":"FirePayload"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"MetadataPatchResponse":{"properties":{"status":{"type":"string","title":"Status"},"track_id":{"type":"string","title":"Track Id"}},"type":"object","required":["status","track_id"],"title":"MetadataPatchResponse"},"MetadataResponse":{"properties":{"title":{"type":"string","title":"Title"},"mood":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Mood"},"rating":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Rating"},"source":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Source"}},"type":"object","required":["title"],"title":"MetadataResponse"},"MetadataUpdate":{"properties":{"mood":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Mood"},"rating":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Rating"},"source":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Source"}},"type":"object","title":"MetadataUpdate"},"NetworkConfigResponse":{"properties":{"proxy_enabled":{"type":"boolean","title":"Proxy Enabled"},"http_proxy":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Http Proxy"},"https_proxy":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Https Proxy"}},"type":"object","required":["proxy_enabled"],"title":"NetworkConfigResponse"},"Notification":{"properties":{"id":{"type":"string","title":"Id"},"user_id":{"type":"string","title":"User Id"},"message":{"type":"string","title":"Message"},"read":{"type":"boolean","title":"Read"}},"type":"object","required":["id","user_id","message","read"],"title":"Notification"},"NotificationCreate":{"properties":{"user_id":{"type":"string","title":"User Id"},"message":{"type":"string","title":"Message"}},"type":"object","required":["user_id","message"],"title":"NotificationCreate"},"NotificationUpdate":{"properties":{"read":{"type":"boolean","title":"Read"}},"type":"object","required":["read"],"title":"NotificationUpdate"},"OAuthLoginResponse":{"properties":{"auth_url":{"type":"string","title":"Auth Url"}},"type":"object","required":["auth_url"],"title":"OAuthLoginResponse"},"PlaylistIn":{"properties":{"name":{"type":"string","maxLength":200,"minLength":1,"title":"Name"},"description":{"anyOf":[{"type":"string","maxLength":1000},{"type":"null"}],"title":"Description"}},"type":"object","required":["name"],"title":"PlaylistIn"},"PlaylistOut":{"properties":{"id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Id"},"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"}},"type":"object","required":["name"],"title":"PlaylistOut"},"PlaylistsResponse":{"properties":{"data":{"items":{"$ref":"#/components/schemas/PlaylistOut"},"type":"array","title":"Data"},"meta":{"additionalProperties":true,"type":"object","title":"Meta"}},"type":"object","required":["data","meta"],"title":"PlaylistsResponse"},"ProxyConfig":{"properties":{"proxy_enabled":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Proxy Enabled"},"http_proxy":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Http Proxy"},"https_proxy":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Https Proxy"}},"type":"object","title":"ProxyConfig"},"RefreshResponse":{"properties":{"expires_at":{"type":"integer","title":"Expires At"}},"type":"object","required":["expires_at"],"title":"RefreshResponse"},"SpotifyCallbackPayload":{"properties":{"code":{"type":"string","minLength":1,"title":"Code"},"state":{"type":"string","minLength":1,"title":"State"}},"type":"object","required":["code","state"],"title":"SpotifyCallbackPayload"},"StandardResponse_CacheStatusResponse_":{"properties":{"status":{"type":"string","title":"Status","default":"success"},"data":{"$ref":"#/components/schemas/CacheStatusResponse"}},"type":"object","required":["data"],"title":"StandardResponse[CacheStatusResponse]"},"SyncLikedResponse":{"properties":{"status":{"type":"string","title":"Status"},"synced":{"type":"integer","title":"Synced"}},"type":"object","required":["status","synced"],"title":"SyncLikedResponse"},"SyncRequest":{"properties":{"playlist_id":{"type":"string","title":"Playlist Id"}},"type":"object","required":["playlist_id"],"title":"SyncRequest"},"SystemEnv":{"properties":{"version":{"type":"string","title":"Version"},"python_version":{"type":"string","title":"Python Version"},"platform":{"type":"string","title":"Platform"}},"type":"object","required":["version","python_version","platform"],"title":"SystemEnv"},"SystemUptime":{"properties":{"uptime_seconds":{"type":"number","title":"Uptime Seconds"},"uptime_human":{"type":"string","title":"Uptime Human"}},"type":"object","required":["uptime_seconds","uptime_human"],"title":"SystemUptime"},"TokenStatus":{"properties":{"access_token_valid":{"type":"boolean","title":"Access Token Valid"},"expires_in_seconds":{"type":"integer","title":"Expires In Seconds"}},"type":"object","required":["access_token_valid","expires_in_seconds"],"title":"TokenStatus"},"TrackMetadataRequest":{"properties":{"track_ids":{"items":{"type":"string"},"type":"array","title":"Track Ids"}},"type":"object","required":["track_ids"],"title":"TrackMetadataRequest"},"TrackMetadataResponse":{"properties":{"metadata":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Metadata"}},"type":"object","required":["metadata"],"title":"TrackMetadataResponse"},"TrackResponseModel":{"properties":{"id":{"type":"string","title":"Id"},"name":{"type":"string","title":"Name"},"artist":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Artist"},"album":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Album"},"duration_seconds":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Duration Seconds"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"cover_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Cover Url"}},"type":"object","required":["id","name","created_at","updated_at"],"title":"TrackResponseModel"},"UpdateTrackModel":{"properties":{"name":{"anyOf":[{"type":"string","maxLength":200,"minLength":1},{"type":"null"}],"title":"Name"},"artist":{"anyOf":[{"type":"string","maxLength":200},{"type":"null"}],"title":"Artist"},"album":{"anyOf":[{"type":"string","maxLength":200},{"type":"null"}],"title":"Album"},"duration_seconds":{"anyOf":[{"type":"integer","exclusiveMinimum":0.0},{"type":"null"}],"title":"Duration Seconds"},"path":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Path"}},"type":"object","title":"UpdateTrackModel"},"UserHistoryResponse":{"properties":{"items":{"items":{"type":"string"},"type":"array","title":"Items"}},"type":"object","required":["items"],"title":"UserHistoryResponse"},"UserLikedResponse":{"properties":{"items":{"items":{"type":"string"},"type":"array","title":"Items"}},"type":"object","required":["items"],"title":"UserLikedResponse"},"UserPreferences":{"properties":{"theme":{"type":"string","title":"Theme"},"language":{"type":"string","title":"Language"}},"type":"object","required":["theme","language"],"title":"UserPreferences"},"UserPreferencesUpdate":{"properties":{"theme":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Theme"},"language":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Language"}},"type":"object","title":"UserPreferencesUpdate"},"UserProfileResponse":{"properties":{"name":{"type":"string","title":"Name"},"email":{"type":"string","title":"Email"},"preferences":{"$ref":"#/components/schemas/UserPreferences"}},"type":"object","required":["name","email","preferences"],"title":"UserProfileResponse"},"UserProfileUpdate":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"email":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Email"}},"type":"object","title":"UserProfileUpdate"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"},"WebhookPayload":{"properties":{"url":{"type":"string","title":"Url"},"events":{"items":{"type":"string"},"type":"array","title":"Events"}},"type":"object","required":["url","events"],"title":"WebhookPayload"}}}}