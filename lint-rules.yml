# This file defines the rules for the conditional documentation linter.
# The linter will check if changes in `source_paths` are accompanied by
# changes in `required_docs`.

rules:
  - name: "API Route Documentation"
    # If any files within these directories change...
    source_paths:
      - "api/src/zotify_api/routes/"
    # ...then at least one of these documentation files must also change.
    required_docs:
      - "project/ENDPOINTS.md"
    # The message to display if the rule fails.
    message: "Changes to API routes require an update to project/ENDPOINTS.md."

  - name: "Database Schema/Model Documentation"
    source_paths:
      - "api/src/zotify_api/database/"
    required_docs:
      - "project/LOW_LEVEL_DESIGN.md"
    message: "Changes to database models or schemas require an update to project/LOW_LEVEL_DESIGN.md."

  - name: "CI/CD Workflow Documentation"
    source_paths:
      - ".github/workflows/"
    required_docs:
      - "project/CICD.md"
    message: "Changes to CI/CD workflows require an update to project/CICD.md."
